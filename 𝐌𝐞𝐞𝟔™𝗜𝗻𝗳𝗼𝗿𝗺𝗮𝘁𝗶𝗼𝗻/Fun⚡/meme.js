const { MessageType, Mimetype } = require(`@adiwajshing/baileys`);
const Íú±…™…¢…¥ = require(`../../·¥ç·¥á·¥á6/Íú±…™…¢…¥`);
const ‚ÑìŒπ—îŒ∑—Ç = require("../../·¥ç·¥á·¥á6/catch");
var ·¥ã·¥á…™·¥áx = new RegExp(Íú±…™…¢…¥.Mee6IX, "g");
var ·¥ã·¥á…™ = /\/\^\[(.*)+\]\/\g/g.exec(·¥ã·¥á…™·¥áx)[1];
const ·¥ç·¥á·¥ágit = require("simple-git")();
// ‚¨°==================‚¨°-----------------‚¶øùêåùêûùêûùüî‚Ñ¢‚¶ø-----------------‚¨°==================‚¨°
// üõ∏·¥ç·¥á·¥á6‚Ñ¢ ·¥Ä·¥Ö·¥†·¥Ä…¥·¥Ñ·¥á·¥Ö ·¥° ú·¥Ä·¥õÍú±·¥Ä·¥ò·¥ò ·¥úÍú±·¥á Ä ô·¥è·¥õ ·¥°…™·¥õ ú 80+ ·¥Ñ·¥è·¥ç·¥ç·¥Ä…¥·¥ÖÍú± Íú∞·¥è Ä  ô·¥è·¥õ ú ·¥ò Ä…™·¥†·¥Ä·¥õ·¥á ·¥Ä…¥·¥Ö …¢ Ä·¥è·¥ú·¥ò-·¥úÍú±·¥Ä…¢·¥áüõ∏
// ‚¨°==================‚¨°-----------------‚¶øùêåùêûùêûùüî‚Ñ¢‚¶ø-----------------‚¨°==================‚¨°
module.exports = {
  name: `meme`,
  commandType: "Fun‚ö°",
  description: `Get Random Memes`,
  async handle( ç…õ…õ‚ÑìŒπ—îŒ∑—Ç, chat, ·¥ç·¥á·¥á6, arg) {
    // ‚¨°==================‚¨°-----------------‚¶øùêåùêûùêûùüî‚Ñ¢‚¶ø-----------------‚¨°==================‚¨°
    await ·¥ç·¥á·¥ágit.fetch();
    var Sender = ·¥ç·¥á·¥á6.sender;
    var …¥·¥á·¥°·¥ç·¥á·¥á6 = await ·¥ç·¥á·¥ágit.log(["KrakinzLab..origin/KrakinzLab"]);
    personsending = Sender.substring(0, Sender.length - 15);
    // ‚¨°==================‚¨°-----------------‚¶øùêåùêûùêûùüî‚Ñ¢‚¶ø-----------------‚¨°==================‚¨°
    if (…¥·¥á·¥°·¥ç·¥á·¥á6.total != 0) {
      await  ç…õ…õ‚ÑìŒπ—îŒ∑—Ç
        .sendMessage(
          ·¥ç·¥á·¥á6.logGroup,
          `‚¶ø·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è 
*‚¨° üëìùìúùìÆùìÆ6‚Ñ¢ ‚ñ≥‚ñΩ ùñÇùñçùñÜùñôùñòùñÜùñïùñï-ùñÄùñòùñäùñóùñáùñîùñô ‚¨°*

ùôêùô•ùôôùôñùô©ùôöü§ñùôãùôöùô£ùôôùôûùô£ùôú
*‚Ä¢@${personsending}*,ùòóùò≠ùò¶ùò¢ùò¥ùò¶ ùòúùò±ùò•ùò¢ùòµùò¶ ùòúùò¥ùò™ùòØùò® *${·¥ã·¥á…™}update* ùò∞ùò≥ ùò≥ùò¶ùò•ùò¶ùò±ùò≠ùò∞ùò∫ ùêåùêûùêûùüî‚Ñ¢!`,
          MessageType.text
        )
        .catch((error) => ‚ÑìŒπ—îŒ∑—Ç.catch(error,  ç…õ…õ‚ÑìŒπ—îŒ∑—Ç, ·¥ç·¥á·¥á6));
    }
    // ‚¨°==================‚¨°-----------------‚¶øùêåùêûùêûùüî‚Ñ¢‚¶ø-----------------‚¨°==================‚¨°
    if (·¥ç·¥á·¥á6.chatId === "120363025343298860@g.us" && !·¥ç·¥á·¥á6.isSenderSUDO) {
      await  ç…õ…õ‚ÑìŒπ—îŒ∑—Ç
        .sendMessage(
          ·¥ç·¥á·¥á6.chatId,
          `‚¶ø·¥ò·¥è·¥°·¥á Ä·¥á·¥Ö  ô è 
*‚¨° üëìùìúùìÆùìÆ6‚Ñ¢ ‚ñ≥‚ñΩ ùñÇùñçùñÜùñôùñòùñÜùñïùñï-ùñÄùñòùñäùñóùñáùñîùñô ‚¨°*

*‚Ä¢@${personsending}*,
„Ç∑Ô∏éùôéùô•ùôñùô¢/ùôèùôöùô®ùô© ùêÜùê´ùê®ùêÆùê©üõ∏ https://chat.whatsapp.com/GDNPVuH3eMq72UOUHavZxH`,
          MessageType.text,
          {
            contextInfo: {
              mentionedJid: [·¥ç·¥á·¥á6.sender],
            },
          }
        )
        .catch((error) => ‚ÑìŒπ—îŒ∑—Ç.catch(error,  ç…õ…õ‚ÑìŒπ—îŒ∑—Ç, ·¥ç·¥á·¥á6));
      return;
      // ‚¨°==================‚¨°-----------------‚¶øùêåùêûùêûùüî‚Ñ¢‚¶ø-----------------‚¨°==================‚¨°
    } else {
      try {
        var num = Math.floor(Math.random() * (500 - 1) + 1);
        try {
          await  ç…õ…õ‚ÑìŒπ—îŒ∑—Ç
            .sendMessage(
              ·¥ç·¥á·¥á6.chatId,
              {
                url: `https://ctk-api.herokuapp.com/meme/${num}`,
              },
              MessageType.image,
              {
                mimetype: Mimetype.jpeg,
              }
            )
            .catch((error) => ‚ÑìŒπ—îŒ∑—Ç.catch(error,  ç…õ…õ‚ÑìŒπ—îŒ∑—Ç, ·¥ç·¥á·¥á6));
        } catch (e) {
          console.log(e);
          await  ç…õ…õ‚ÑìŒπ—îŒ∑—Ç
            .sendMessage(
              ·¥ç·¥á·¥á6.chatId,
              {
                url: `https://ctk-api.herokuapp.com/meme/${num}`,
              },
              MessageType.image,
              {
                mimetype: Mimetype.png,
              }
            )
            .catch((error) => ‚ÑìŒπ—îŒ∑—Ç.catch(error,  ç…õ…õ‚ÑìŒπ—îŒ∑—Ç, ·¥ç·¥á·¥á6));
        }
      } catch (err) {
        console.log(err);
      }
    }
  },
};
